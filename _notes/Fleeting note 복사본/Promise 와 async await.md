# 프라미스와 async await #✏️ 

## 큰 개요
**콜백** -> **프라미스**-> 프라미스 체이닝 -> 프라미스와 에러핸들링-> 프라미스 API -> 프라미스화 -> 마이크로 태스크 -> **async 와 await**

2번째인 프라미스 개요
1. 프라미스
2. 소비자: then, catch, finally


1.  '==제작 코드(producing code)=='는 원격에서 스크립트를 불러오는 것 같은 시간이 걸리는 일을 합니다. 위 비유에선 '가수’가 제작 코드에 해당합니다.
2.  '==소비 코드(consuming code)'==는 '제작 코드’의 결과를 기다렸다가 이를 소비합니다. 이때 소비 주체(함수)는 여럿이 될 수 있습니다. 위 비유에서 소비 코드는 '팬’입니다.
3.  ==_프라미스(promise)_== 는 '제작 코드’와 '소비 코드’를 연결해 주는 특별한 ==자바스크립트 객체==입니다. 위 비유에서 프라미스는 '구독 리스트’입니다. '프라미스’는 시간이 얼마나 걸리든 상관없이 약속한 결과를 만들어 내는 '제작 코드’가 준비되었을 때, 모든 소비 코드가 결과를 사용할 수 있도록 해줍니다.

프라미스엔 더 **많은 기능**이 있고, ==한계==도 있습니다. 하지만 일단 이 비유를 이용해 프라미스를 학습해보도록 합시다==. so what?== --> #✏️ 


```js
let promise = new Promise(function(resolve, reject) { 
// executor (제작 코드, '가수') });
```

`new Promise`에 전달되는 함수는 ==_executor(실행자, 실행 함수)_== 라고 부릅니다. executor는 `new Promise`가 만들어질 때 자동으로 실행되는데, 결과를 최종적으로 만들어내는 제작 코드를 포함합니다. 위 비유에서 '가수’가 바로 executor입니다.

executor의 인수 `resolve`와 `reject`는 자바스크립트에서 자체 제공하는 콜백입니다. 개발자는 `resolve`와 `reject`를 신경 쓰지 않고 executor 안 코드만 작성하면 됩니다.

-   `resolve(value)` — 일이 성공적으로 끝난 경우 그 결과를 나타내는 `value`와 함께 호출
-   `reject(error)` — 에러 발생 시 에러 객체를 나타내는 `error`와 함께 호출

## 프로미스 객체 내부 프로퍼티
한편, new Promise 생성자가 반환하는 promise 객체는 다음과 같은 내부 프로퍼티를 갖습니다.

-   `state` — 처음엔 `"pending"`(보류)이었다 `resolve`가 호출되면 `"fulfilled"`, `reject`가 호출되면 `"rejected"`로 변합니다.

-   `result` — 처음엔 `undefined`이었다 `resolve(value)`가 호출되면 `value`로, `reject(error)`가 호출되면 `error`로 변합니다.


[[async-await 알아보자]] 조금 더 깊게 들어가보기 


# 한마디 정리

자바스크립트는 엔진에서 동기적으로 코드를 해석한다. 그래서 비동기가 필요하다. 그러다보면 .then 이 늘어나서 늘어나서 
코드를 깔끔하게 하려고 만들어진게 async await. 비동기를 동기로 만든다.