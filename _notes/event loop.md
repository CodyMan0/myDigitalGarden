---
aliases: []
tags : 
---
Up : [[HOME 🌎]]

출처 : 모던 자바스크립트 
저자 :
URL : 
1. https://ko.javascript.info/event-loop
2. https://chanmi-lee.github.io/articles/2020-06/JavaScript-Visualized-Event-Loop
3. [Velog 블로그](https://velog.io/@yejineee/%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84%EC%99%80-%ED%83%9C%EC%8A%A4%ED%81%AC-%ED%81%90-%EB%A7%88%EC%9D%B4%ED%81%AC%EB%A1%9C-%ED%83%9C%EC%8A%A4%ED%81%AC-%EB%A7%A4%ED%81%AC%EB%A1%9C-%ED%83%9C%EC%8A%A4%ED%81%AC-g6f0joxx)
인용 : 

한마디 정리 
1. 왜 필요?  자바스크립트는 싱글 스레드 기반의 언어지만, **자바스크립트가 구동되는 환경(Node.js, 브라우저)은 여러 스레드가 사용**된다. **여러 스레드가사용되는 구동 환경이 자바스크립트 엔진과 연동하기 위해 사용되는 장치가 '이벤트 루프'** 이다. [[메인 스레드 역할]]
3. 정의?  이벤트 루프는 태스크 큐에 있는 콜백함수를 콜 스택에 연동시키는 것을 말한다. 

-> my language : 싱글스레드 언어인 자바스크립트에 동시성을 부여하기 위해서 사용되는것이 이벤트 루프!! 

[[OS Moc]]와 비슷하다고 느껴진다.
# 모던 자바스크립트


최적화나 올바른 아키텍처 설계를 하기 위해서 알아야하는 것. 

자바스크립트 엔진이 돌아가는 알고리즘을 일반화

1.  처리해야 할 태스크가 있는 경우:
    -   먼저 들어온 태스크부터 순차적으로 처리함
2.  처리해야 할 태스크가 없는 경우:
    -   잠들어 있다가 새로운 태스크가 추가되면 다시 1로 돌아감

대표적인 태스크 
-   외부 스크립트인 script 코드가 이 스크립트를 실행하는 것
-   사용자가 마우스를 움직일 때 `mousemove` 이벤트와 이벤트 핸들러를 실행하는 것
-   `setTimeout`에서 설정한 시간이 다 된 경우, 콜백 함수를 실행하는 것

[[마이크로 태스크 vs 메크로 태스크]]
태스트 큐는 두개로 나뉜다.
1. [[micro_task_queue]]에는 비동기 애들이 들어가는건가? 
2. [[마이크로태스크 큐]]

정리 -> 콜스텍 -> 마이크로 큐 -> 매크로 큐 순으로 실행!! 

### 실무 사례 
1. CPU 소모가 많은 태스크 쪼개기 


# Dev 자료
자바스크립트는 싱글 스레드 -> 무거운 하나의 동작이 동작할떄 아무것도 끼어들지 못해 -> avaScript 엔진 자체에서 제공하지 않는 일부 기능인 `Web API`를 제공하므로써 비동기 제공 -> 



# 벨로그
-   **자바스크립트 엔진**  
    - [[Heap]] : 객체들은 힙 메모리에 할당된다. 크기가 동적으로 변하는 값들의 참조 값을 갖고 있다.
    - [[call stack]] : 함수 호출 시, 실행 컨텍스트가 생성되며, 이러한 [[실행 컨텍스트]]들이 콜 스택을 구성한다.
-   **Web API or Browser API**  
    - 웹 브라우저에 구현된 API이다.  
    - DOM event, [[AJAX]], Timer 등이 있다.
-   **이벤트 루프**  
    - 콜 스택이 비었다면, 태스크 큐에 있는 콜백 함수를 처리한다.
-   **태스크 큐**  
    - 이벤트 루프는 하나 이상의 태스크 큐를 갖는다.  
    - 태스크 큐는 **태스크의 Set**이다.  
    - 이벤트 루프가 큐의 첫 번째 태스크를 가져오는 것이 아니라, 태스크 큐에서 실행 가능한(runnable) 첫 번째 태스크를 가져오는 것이다. 태스크 중에서 가장 오래된 태스크를 가져온다. [[FIFO(선입선출)]]

브라우저와 Node.js에서 공통으로 제공하는 것이 **이벤트 루프**  [[웹 브라우저와 노드의 차이]]는 제공해주는 


### 생각의 연결고리
분야 :

키워드 :

관련있는 메모 :
