---
aliases: []
tags : 
---
Up : [[HOME 🌎]]

출처 : 박서진
저자 :
URL : 
1. https://toss.tech/article/smart-web-service-cache
2. https://sarc.io/index.php/miscellaneous/1565-browser-cache
3. https://web.dev/i18n/ko/http-cache/
4. [생활코딩](https://opentutorials.org/module/3830)
인용 : 
# 토스 브라우저 캐싱
HTTP 캐시를 효율적으로 관리하려면 [[Cache-Control 헤더]]를 섬세하게 조절해야 합니다.

## 캐시의 생명 주기


[[HTTP]]에서 **리소스**(Resource)란 웹 브라우저가 HTTP 요청으로 가져올 수 있는 모든 종류의 파일을 말합니다. 대표적으로 HTML, CSS, JS, 이미지, 비디오 파일 등이 리소스에 해당합니다.

웹 브라우저가 서버에서 지금까지 요청한 적이 없는 리소스를 가져오려고 할 때, 서버와 브라우저는 완전한 HTTP 요청/응답을 주고받습니다. HTTP 요청도 완전하고, 응답도 완전합니다. 이후 HTTP 응답에 포함된 **Cache-Control 헤더**에 따라 받은 리소스의 생명 주기가 결정됩니다.

네트워크 패널에 있는 Cache-control 해더에 max-age = second로 설정되면 설정된 초만큼 캐시된다.
캐시의 유효기간에 브라우저에서 삭제하기가 어렵다.

*  더 좋은 방법 
->Cache-Control max-age 값 대신 Expires 헤더로 캐시 만료 시간을 정확히 지정할 수도 있습니다.


유효기간이 끝나고 브라우저는 서버에 재검증 요청을 보낸후 캐시가 유효한지 확인하는 과정이 있다,
유효하면 304 Not modified 유효하지 않으면 200 okay


## no-cache 와 no-store
no-cache는 사용하려할떄 서버에 재검증 요청을 보내야한다
no-store은 캐시로 저장하면 안되는 데이터일때 사용된다.

![[스크린샷 2022-11-09 오전 11.45.52.png | 500]]


# 자료 2
브라우저 캐시는 브라우저에서 로컬 웹 페이지 리소스를 저장하는 데 사용되는 메커니즘이다. 이로 인해 성능이 향상되고 대역폭 소비가 최소화되어 개선된 환경이 만들어진다.

캐시는 빠른 억세스를 위해 값을 임시로 저장하는 데 사용되는 방식이다 . 브라우저 캐시는 CSS, JS, 이미지, 비디오 등의 정적 리소스를 포함하는 작은 데이터베이스이다.

브라우저 캐싱은 특정 ==HTTP 헤더==를 사용하여 웹 개발자와 관리자가 활용할 수 있다.

## 3. Cache-control

Cache-control 헤더는 HTTP/1.1에 도입되었다. 브라우저의 작동 방식에 따라 사용 가능한 여러 필드가 있다.

-   No-cache

웹 브라우저가 즉시 캐시를 참조하지 않고 서버에 대해 컨텐츠의 유효성을 검사하도록 지시한다. _Fresh_의 경우 캐시에서 제공한다.

-   No-store

브라우저가 컨텐츠를 캐시하지 않도록 지시합니다. 민감한 데이터나 자주 변경되는 데이터를 다룰 때 주로 사용된다.

-   Public

컨텐츠를 공개로 표시한다. 즉, 브라우저 및 프록시 등의 중개자가 캐시 할 수 있음을 의미한다.

-   Private

컨텐츠를 표시하는데 사용되며 중간 프록시 등이 아닌 브라우저에서만 캐시 할 수 있다. 일반적으로 사용자 관련 데이터를 나타낸다.

-   Max-age

Max-age는 클라이언트가 클라이언트 유효성을 다시 확인해야 브라우저 캐시에 콘텐츠를 남겨 둘 수있는 최대 시간(초)을 나타낸다. Expires 헤더와 달리, max-age는 콘텐츠가 캐시된 시간의 상대 값을 초 단위로 정의한다. ==절대 만료 날짜가 아니다.==

-   S-maxage

max-age와 비슷하지만 중간 캐시에만 사용된다.

-   Must-revalidate

브라우저 캐시에서 직접 제공하는 대신 브라우저가 필요할 때마다 콘텐츠의 유효성을 다시 확인하도록 한다. 네트워크 중단이 발생했을 때 유용하다.

-   Proxy-revalidate

Must-revalidate 와 유사하지만 중간 캐시에만 적용된다.

-   no-transform

브라우저에 어떤식으로든 (일반적으로 압축 등) 서버로부터 받은 컨텐츠를 변형시키지 않도록 지시한다.



### 생각의 연결고리


분야 :

키워드 :

관련있는 메모 :

# 자료 3 
불필요한 네트워크 요청을 어떻게 피할 수 있습니까? 
1. 브라우저의 HTTP 캐시는  첫 번째 방어선입니다.
캐시된 ==응답의 수명을 제한적으로 제어==할 수는 있지만 효과적이며 모든 브라우저에서 지원되며 작업이 많이 필요하지 않습니다.

# 생활 코딩
캐싱 금지 -> no store
캐싱 이용 -> 

[[caching]]의 지독한 문제 : ==Freshness!== 

성능을 유지하면서 신선도를 유지할 수 있는 방법이 있을까? 

-> 

- [[HTTP 캐시 작동 방식]]
