---
---


리액트는 [[virtual-dom|가상돔]]을 사용하고 실제 돔과 비교하여 변화한 부분만 리렌더링 시켜주는 방식으로 동작한다. 그런데 이 때 가상 돔을 잘 이해해야만 React의 '상태'를 잘 다룰 수 있다.

리액트 가상돔의 비교 원리를 살펴보면 얕은 비교와 깊은 비교를 알 수 있다.

# 특징 1
React는 노드를 비교할 때 얕은 비교를 한다.
- React의 얕은 비교는 같은 레벨에서만 일어난다.
	-   **숫자, 문자열, Boolean과 같은 원시 자료형은 값을 비교한다.**
	-   **배열, 객체 등 참조 자료형은 그 안의 값 혹은 attribute를 비교하지 않고, 그들의 레퍼런스(참조되는 위치)를 비교한다.**
	그러므로 배열을 직접 수정하는 방식, 예를 들어, push, pop 과 같은 메소드로 배열을 수정한 뒤 setState에 담아주어도 기본적으로 같은 참조 위치를 가지고 있기 때문에 값의 변화를 감지하지 못한다 -> 리렌더링이 이루어지지 않아 UI에 변경이 안되는 상황 발생할 수 있다.


React에서 객체 불변성을 유지하기

React에서 배열 값을 변경할 때는 객체와 마찬가지로, **불변성**을 지켜주어야 한다. 이는 무슨 말이냐고 하면, 배열 혹은 객체의 원본을 수정하지 않고 상태 변경을 원하는 배열과 함수를 복사(깊은 복사를 하고 나서 사용해야 한다는 뜻이다.

## 관려있는 메모 
1. 자바스크립트: 원시타입과 참조타입인 [[자바스크립트 데이터 타입]]을 알아야한다.